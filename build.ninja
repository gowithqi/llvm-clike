cxx = g++
cflags = -Iinclude -D__STDC_LIMIT_MACROS -D__STDC_CONSTANT_MACROS -lLLVMCore

rule flex
    command = flex -o $out $in 

rule bison
    command = bison -d -o $out $in

rule cxx
    command = $cxx $cflags -o $out $in

build out/tokens.cpp: flex src/tokens.l
build out/parser.cpp: bison src/parser.y 
build out/parser: cxx out/parser.cpp out/tokens.cpp src/main.cpp
